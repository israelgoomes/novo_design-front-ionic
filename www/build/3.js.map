{"version":3,"sources":["../../src/pages/projetos/cadastro-projeto/cadastro-projeto.module.ts","../../src/app/models/projetoModel.ts","../../src/pages/projetos/cadastro-projeto/cadastro-projeto.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CadastroProjetoPage } from './cadastro-projeto';\n\n@NgModule({\n  declarations: [\n    CadastroProjetoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CadastroProjetoPage),\n  ],\n})\nexport class CadastroProjetoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/projetos/cadastro-projeto/cadastro-projeto.module.ts","export class projetoModel {\r\n        _id: string\r\n        nomeCliente: string;\r\n        tel: string;\r\n        email: string;\r\n        endereco: string;\r\n        bairro: string;\r\n        cidade: string;\r\n        tituloProjeto: string;\r\n        descricaoProjeto: string;\r\n        cep: string;\r\n        preco: string;\r\n        foto: Array<ImageData>;\r\n        foto2: string;\r\n}\r\n\r\n/* nomeCliente: {trim: true, required: true, type: String, index: true},\r\n    telefone: {trim:true, requried: true, type: String},\r\n    email: {type: String},\r\n    rua: {type: String, required: true},\r\n    bairro: {type: String, required: true},\r\n    cidade: {type: String, required: true, index: true},\r\n    tituloProjeto: {trim: true, required: true, index: true, type: String },\r\n    descricaoProjeto: {type: String, required: true},\r\n    cep: {type: String, required: true},\r\n    preco: {type: Number},\r\n    foto: {type: String}, */\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/projetoModel.ts","import { Component, OnInit } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform, ActionSheetController } from 'ionic-angular';\nimport { ProjetosProvider } from '../../../providers/projetos/projetos';\nimport { AlertProvider } from '../../../providers/alert/alert';\nimport { projetoModel } from '../../../app/models/projetoModel';\nimport { CameraProvider } from '../../../providers/camera/camera';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-cadastro-projeto',\n  templateUrl: 'cadastro-projeto.html',\n})\nexport class CadastroProjetoPage implements OnInit{\n  foto = []\nprojeto: projetoModel;\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public projetoSrvc: ProjetosProvider,\n    public alertSrvc: AlertProvider,\n    public platform: Platform,\n    public actionSheetCtrl: ActionSheetController,\n    public cameraSrvc: CameraProvider\n    ) { \n\n      let projeto = this.navParams.get('_projeto');\n      if(projeto){\n        this.projeto = <projetoModel>projeto\n      }else {\n        this.projeto = new projetoModel();\n      }\n  }\n\nngOnInit():void {\n if(this.projeto.tituloProjeto == undefined){\n    console.log('valor do projeto', this.projeto)\n  }\n}\n\nasync salvar(): Promise<void> {\n  this.projeto.foto = this.foto;\n\n  console.log('entrou aqui')\n  let sucesso = false;\n  if(!this.projeto._id){\n    let cadastroResult = await this.projetoSrvc.post(this.projeto)\n    sucesso = cadastroResult.success;\n  }\n  if(sucesso){\n    this.alertSrvc.toast('Projeto salvo com sucesso', 'bottom');\n    this.navCtrl.setRoot('ProjetosPage');\n  }\n}\n\ngetPictureOptions(): void {\n  //actionSheet serve para aparecer as opções, se a foto será escolhida na galeria ou tirada na hora.\n  let actionSheet = this.actionSheetCtrl.create({\n    title: 'Adicionar foto',\n    buttons: [\n      { text: 'Tirar foto', handler: () => {\n        //escolhendo a opção de tirar foto no cameraprovider que foi criado, e assumindo o valor da photo para o projeto.foto\n        this.cameraSrvc.takePicture((photo) =>{\n          this.foto.push(photo);\n          this.projeto.foto = this.foto;\n\n        })\n\n      }, \n      icon: this.platform.is('ios') ? null : 'camera' },\n//------------------------ Opção pegar da galeria ------------\n      { text: 'Pegar galeria', handler: () =>{\n        \n        this.cameraSrvc.getPictureFromGalery(photo =>{\n          this.foto.push(photo);\n          this.projeto.foto = this.foto;\n\n        } )\n\n      }, icon: this.platform.is('ios') ? null : 'images'},\n      //o role 'destructive' deixa o botao vermelho\n      {text: 'Cancelar', role: 'destructive', \n      icon: this.platform.is('ios') ? null : 'close'\n    ,handler: () => {\n        //cancela a ação\n      }, }\n    ]\n  });\n  actionSheet.present();\n}\n\n  ionViewDidLoad() {\n    console.log('Todas fotos', this.projeto.foto)\n    console.log('ionViewDidLoad CadastroProjetoPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/projetos/cadastro-projeto/cadastro-projeto.ts"],"sourceRoot":""}