{"version":3,"sources":["../../src/pages/contrato/contrato.module.ts","../../src/app/models/projetoModel.ts","../../src/app/models/clienteModel.ts","../../src/pages/contrato/contrato.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ContratoPage } from './contrato';\r\nimport {BrMaskerModule} from 'brmasker-ionic-3';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ContratoPage,\r\n  ],\r\n  imports: [\r\n    BrMaskerModule,\r\n    IonicPageModule.forChild(ContratoPage),\r\n  ],\r\n})\r\nexport class ContratoPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contrato/contrato.module.ts","export class projetoModel {\r\n        _id: string\r\n       // nomeCliente: string;\r\n      //  tel: string;\r\n       // email: string;\r\n      //  endereco: string;\r\n     //   bairro: string;\r\n      //  cidade: string;\r\n        tituloProjeto: string;\r\n        descricaoProjeto: string;\r\n      //  cep: string;\r\n        preco: string;\r\n        foto: Array<ImageData>;\r\n        cliente: any;\r\n        data: string;\r\n        usuario: string;\r\n}\r\n\r\n/* nomeCliente: {trim: true, required: true, type: String, index: true},\r\n    telefone: {trim:true, requried: true, type: String},\r\n    email: {type: String},\r\n    rua: {type: String, required: true},\r\n    bairro: {type: String, required: true},\r\n    cidade: {type: String, required: true, index: true},\r\n    tituloProjeto: {trim: true, required: true, index: true, type: String },\r\n    descricaoProjeto: {type: String, required: true},\r\n    cep: {type: String, required: true},\r\n    preco: {type: Number},\r\n    foto: {type: String}, */\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/projetoModel.ts","export class clienteModel {\r\n    _id: string;\r\n    nome: string;\r\n    tel: string;\r\n    email: string;\r\n    cep: string;\r\n    endereco: string;\r\n    bairro: string;\r\n    cidade: string;\r\n    estado: string;\r\n    usuario: string;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/clienteModel.ts","import { Component, OnInit } from '@angular/core';\r\nimport {\r\n  IonicPage,\r\n  NavController,\r\n  NavParams,\r\n  Platform,\r\n  ToastController\r\n} from \"ionic-angular\";\r\nimport { File } from \"@ionic-native/file\";\r\nimport pdfMake from \"pdfmake/build/pdfmake\";\r\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\r\nimport { clienteModel } from \"../../app/models/clienteModel\";\r\nimport { projetoModel } from '../../app/models/projetoModel';\r\nimport * as moment from 'moment';\r\nimport { configHelper } from '../../app/helpers/configHelper';\r\nimport { Events, ModalController } from 'ionic-angular';\r\nimport { CalendarModal, CalendarModalOptions, CalendarResult } from 'ion2-calendar';\r\nimport { ContratoProvider } from '../../providers/contrato/contrato';\r\n\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-contrato\",\r\n  templateUrl: \"contrato.html\"\r\n})\r\nexport class ContratoPage implements OnInit{\r\n  contrato = {\r\n    name: \"\",\r\n    descritivo: \"\",\r\n    vlTotal: \"\",\r\n    prEntrega: \"\",\r\n    cpf: ''\r\n  };\r\n  cliente: clienteModel;\r\n  projeto: projetoModel;\r\n  pdfObj = null;\r\n  values = {}\r\n  theme: string;\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private platform: Platform,\r\n    private file: File,\r\n    private toastCtrl: ToastController,\r\n    private events: Events,\r\n    private modalCtrl: ModalController,\r\n    private contratoSrvc: ContratoProvider\r\n  ) {\r\n\r\n    moment.locale('pt-BR', {\r\n      months: ['Janeiro', 'Fevereiro', 'Mar√ßo', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],\r\n      monthsShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez']\r\n    });\r\n\r\n    let client = this.navParams.get(\"_cliente\");\r\n    let clienteProjeto = this.navParams.get('_clienteProjeto')\r\n    if (client) {\r\n      this.cliente = <clienteModel>client;\r\n    } else if(clienteProjeto) {\r\n      this.cliente = <clienteModel>clienteProjeto;\r\n    }else{\r\n    this.cliente = new clienteModel();\r\n    }\r\n    let projeto = this.navParams.get('_projeto');\r\n    if(projeto){\r\n      this.projeto = <projetoModel>projeto;\r\n    }else {\r\n      this.projeto = new projetoModel();\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  this.contrato.prEntrega = moment(new Date()).format(\"DD/MM/YYYY\");\r\n    \r\n    console.log('cliente', this.cliente)\r\n\r\n    this.theme = localStorage.getItem(configHelper.storageKeys.color);\r\n\r\n    if(this.theme == \"#527F76\"){\r\n      this.theme = 'primary'\r\n    }else if(!this.theme){\r\n      this.theme = 'primary'\r\n    } else if(this.theme == 'black'){\r\n      this.theme = 'dark';\r\n      console.log('Mudando nome do tema para black')\r\n    } else if(this.theme == 'purple'){\r\n      this.theme = 'secondary';\r\n    }else if(this.theme == 'blue'){\r\n      this.theme = 'light'\r\n    }\r\n    this.eventChangeColor();\r\n\r\n\r\n    if(this.projeto.tituloProjeto == undefined){\r\n        this.values = [\r\n          {nome: this.cliente.nome,\r\n          cep: this.cliente.cep,\r\n          endereco: this.cliente.endereco,\r\n          bairro: this.cliente.bairro,\r\n          cidade: this.cliente.cidade,\r\n          tel: this.cliente.tel,\r\n          descritivo: this.contrato.descritivo,\r\n          vlTotal: this.contrato.vlTotal\r\n        }\r\n        ]\r\n    } else {\r\n      this.values = [{\r\n        nome: this.cliente.nome,\r\n        cep: this.cliente.cep,\r\n        endereco: this.cliente.endereco,\r\n        bairro: this.cliente.bairro,\r\n        cidade: this.cliente.cidade,\r\n        descritivo: this.projeto.descricaoProjeto,\r\n        vlTotal: this.projeto.preco,\r\n        projeto: this.projeto.tituloProjeto,\r\n        tel: this.cliente.tel,\r\n      }\r\n\r\n      ]\r\n    }\r\n    console.log(\"Valores do novo array\",this.values)\r\n  }\r\n\r\n  eventChangeColor(){\r\n    this.events.subscribe(configHelper.Events.changeColor, ()=>{\r\n      this.menuController();\r\n         })\r\n  }\r\n\r\n  menuController(){\r\n    this.theme = localStorage.getItem(configHelper.storageKeys.color);\r\n    if(this.theme == \"#527F76\"){\r\n      this.theme = 'primary'\r\n    }else if(this.theme == 'black'){\r\n      this.theme = 'dark';\r\n      console.log('Mudando nome do tema para black')\r\n    }\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n\r\n  }\r\n  openCalendar() {\r\n    const options: CalendarModalOptions = {\r\n        pickMode: 'single',\r\n        title: 'Prazo de Entrega',\r\n        weekdays: ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],\r\n        monthFormat: 'MMMM YYYY',\r\n        canBackwardsSelected: true,\r\n        closeIcon: true,\r\n        doneIcon: true,\r\n        color: this.theme,\r\n    };\r\n    let myCalendar = this.modalCtrl.create(CalendarModal, {\r\n        options: options\r\n    });\r\n    myCalendar.onDidDismiss((date: CalendarResult, type: string) => {\r\n     if(date!=null){\r\n      this.contrato.prEntrega = moment(date.string).format(\"DD/MM/YYYY\")\r\n     }\r\n    })\r\n    myCalendar.present();\r\n  }\r\n\r\n  createPdf() {\r\n  if(this.projeto.tituloProjeto == undefined){\r\nthis.values[\"0\"].descritivo = this.contrato.descritivo\r\nthis.values[\"0\"].vlTotal = this.contrato.vlTotal\r\n    }\r\n    this.contratoSrvc.createPdf(this.values[\"0\"], this.contrato)\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contrato/contrato.ts"],"sourceRoot":""}